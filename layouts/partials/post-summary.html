{{- $title := .Title -}}
{{- if not $title }}
  {{- $title = (.Summary | plainify | truncate 80) -}}
{{- end -}}
{{- $showTitle := and $title (not .Params.microblog) -}}

<article class="post-summary">
  {{ if $showTitle }}
  <h2><a href="{{ .RelPermalink }}">{{ $title }}</a></h2>
  {{ end }}

  <div class="post-content">
    {{ .Content }}
  </div>

  <div class="meta">
    <a class="post-date" href="{{ .RelPermalink }}">{{ .Date.Format "January 2, 2006" }}</a>
    {{ with .Params.bookmark_of }}
    <a class="bookmark-link" href="{{ . }}" rel="noopener" target="_blank">Source â†—</a>
    {{ end }}
    {{ range .Params.categories }}
      {{ partial "category-badge.html" . }}
    {{ end }}
  </div>
</article>
